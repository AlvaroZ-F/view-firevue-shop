(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},r=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/view-firevue-shop/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"058a":function(t,e,s){"use strict";var a=s("8198"),i=s.n(a);i.a},1057:function(t,e,s){},"2e42":function(t,e,s){"use strict";var a=s("8fff"),i=s.n(a);i.a},"34a6":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a={};s.r(a),s.d(a,"updateCart",(function(){return Wt})),s.d(a,"removeItemInCart",(function(){return Ft})),s.d(a,"registerByEmail",(function(){return Qt})),s.d(a,"logout",(function(){return Jt})),s.d(a,"loginWithEmail",(function(){return Yt})),s.d(a,"listenToProductList",(function(){return Zt})),s.d(a,"getShoppingCart",(function(){return Kt})),s.d(a,"saveShoppingCart",(function(){return Xt})),s.d(a,"saveToTransaction",(function(){return te}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column sticky-footer-wrapper"},[s("main",{staticClass:"flex-fill"},[s("app-header"),s("message-component"),s("div",{staticClass:"container mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("router-view")],1)])])])],1),t._m(0)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"navbar-default navbar-bottom navbar-dark bg-dark"},[s("div",{staticClass:"container-fluid"},[s("p",{staticClass:"text-center nav-bar mb-0"},[t._v("Made by Alvaro Zambrana Fernandez. Repository at "),s("a",{attrs:{href:"#",target:"_blank"}},[t._v("Github/AlvaroZ-F/FireVue-SPA-OnlineShop")])])])])}],o=s("5530"),c=s("2f62"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark",attrs:{role:"navigation"}},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"navbar-brand mr-auto",attrs:{to:"/"}},[t._v("Online Shop")]),s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle Navigation"},on:{click:t.toggleNavbar}},[s("span",{staticClass:"navbar-toggler-icon"})]),s("div",{staticClass:"collapse navbar-collapse",class:{show:t.isNavOpen},attrs:{id:"navbarTop"}},[s("ul",{staticClass:"navbar-nav mr-auto"}),s("ul",{staticClass:"nav navbar-nav"},[t.isLoggedIn?t._e():s("router-link",{staticClass:"nav-item",attrs:{to:"/login",tag:"li","active-class":"active"}},[s("a",{staticClass:"nav-link"},[t._v("Login")])]),t.isLoggedIn?s("li",{staticClass:"li-pointer nav-item"},[s("a",{staticClass:"nav-link",on:{click:t.logout}},[t._v("Logout "+t._s(t.userEmail))])]):t._e(),t.isLoggedIn?t._e():s("router-link",{staticClass:"nav-item",attrs:{to:"/register",tag:"li","active-class":"active"}},[s("a",{staticClass:"nav-link"},[t._v("Register")])]),s("li",[s("router-link",{staticClass:"btn btn-success navbar-btn",attrs:{to:"/cart",tag:"button"}},[t._v(" Checkout "),s("span",{staticClass:"badge badge-light"},[t._v(t._s(t.numItems)+" ("+t._s(t.cartValue)+" €)")])])],1)],1)])],1)])},u=[],d=(s("13d5"),{data:function(){return{isNavOpen:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["isLoggedIn","cartValue","currentUser","cartItemList"])),{},{numItems:function(){return this.cartItemList.reduce((function(t,e){return t+=e.quantity,t}),0)},userEmail:function(){return this.isLoggedIn?this.currentUser.email:""}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["logout"])),{},{toggleNavbar:function(){this.isNavOpen=!this.isNavOpen}})}),m=d,p=(s("058a"),s("2877")),g=Object(p["a"])(m,l,u,!1,null,"8a386060",null),f=g.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:(t.showMessageBar?"":"d-none")+"  message-bar"},[s("div",{class:t.messageClass},[s("Button",{staticClass:"btn btn-link close-btn",attrs:{bsStyle:"link"},on:{click:t.closeMessageBar}},[s("i",{staticClass:"fa fa-times"})]),s("div",[t._v(t._s(t.currentMessage))])],1)])},h=[],b={computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["messages"])),{},{showMessageBar:function(){return this.messages.message&&this.messages.message.length>0},messageClass:function(){var t=this.messages.messageClass;return"col-12 panel panel-"+t+" "+(this.showMessageBar?"":"hidden")},currentMessage:function(){return this.messages.message}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["clearMessage"])),{},{closeMessageBar:function(){this.clearMessage()}})},C=b,_=(s("2e42"),Object(p["a"])(C,v,h,!1,null,"37e66052",null)),y=_.exports,L={components:{appHeader:f,MessageComponent:y},methods:Object(o["a"])({},Object(c["b"])(["getShoppingCart","listenToProductList"])),created:function(){var t=this.$store.getters.currentUser.uid;this.listenToProductList(),this.getShoppingCart({uid:t,currentCart:this.$store.getters.cartItemList})}},w=L,O=(s("034f"),Object(p["a"])(w,r,n,!1,null,null,null)),I=O.exports,S=s("9483");Object(S["a"])("".concat("/view-firevue-shop/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var j=s("8c4f"),E=s("8aa5"),k=s.n(E),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:{loadingItem:t.isProductLoading}},[t.isProductLoading?s("div",{staticClass:"row text-center"},[s("grid-loader",{attrs:{loading:t.isProductLoading,color:t.loaderColor,size:t.loaderSize}})],1):s("div",{staticClass:"row action-panel"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"btn-group btn-group-sm pull-right"},[s("button",{staticClass:"btn-group btn-outline-dark",attrs:{id:"list"},on:{click:function(e){return e.preventDefault(),t.changeDisplay(!0)}}},[s("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),t._v(" List ")]),s("button",{staticClass:"btn-group btn-outline-dark",attrs:{id:"grid"},on:{click:function(e){return e.preventDefault(),t.changeDisplay(!1)}}},[s("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}}),t._v(" Grid ")])])])]),t.isProductLoading?t._e():s("div",{staticClass:"row"},t._l(t.products,(function(e){return s("app-product-item",{key:e.id,attrs:{item:e,displayList:t.displayList}})})),1)])},T=[],x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-3 col-sm-6 col-md-4 item",class:{"list-group-item":t.displayList}},[s("div",{staticClass:"thumbnail card"},[s("div",{staticClass:"img-event intrinsic"},[s("img",{staticClass:"grow thumbnail-image card-img-top intrinsic-item p-3",attrs:{src:t.item.thumbnail_url,alt:""}})]),s("div",{staticClass:"card-body"},[s("router-link",{staticClass:"card-title",attrs:{to:"/product/"+t.item.id,tag:"h5"}},[s("a",[t._v(t._s(t.item.title))])]),s("h6",{staticClass:"card-subtitle mb-2 remain"},[t._v("Stock: "+t._s(t.item.quantity))]),s("p",{staticClass:"card-text truncate"},[t._v(" "+t._s(t._f("shortDescription")(t.item.description)))]),s("div",{staticClass:"row"},[s("p",{staticClass:"col-6 lead"},[t._v(t._s(t.item.price)+" €")]),s("p",{staticClass:"col-6"},[s("button",{staticClass:"btn btn-success pull-right",attrs:{disable:0===t.item.quantity},on:{click:t.addItems}},[t._v(" Add to cart ")])])])],1)])])},M=[],P={props:["item","displayList"],methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateCart"])),{},{addItems:function(){var t={item:Object.assign({},this.item),quantity:1,isAdd:!0};this.updateCart(t)}}),filters:{shortDescription:function(t){return t&&t.length>100?t.substring(0,100)+"...":t}}},U=P,q=(s("d608"),Object(p["a"])(U,x,M,!1,null,"a0018eb4",null)),D=q.exports,R=s("0d9b"),$={data:function(){return{loaderColor:"#5cb75c",loaderSize:"50px",displayList:!1}},computed:Object(o["a"])({},Object(c["c"])(["products","isProductLoading"])),components:{appProductItem:D,GridLoader:R["a"]},methods:{changeDisplay:function(t){this.displayList=t}}},G=$,N=(s("b00a"),Object(p["a"])(G,A,T,!1,null,null,null)),V=N.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container table-responsive"},[s("table",{staticClass:"table-responsive table-hover table-sm",attrs:{id:"cart"}},[t._m(0),s("transition-group",{attrs:{name:"list-shopping-cart",tag:"tbody"}},t._l(t.cartItemList,(function(t){return s("app-cart-item",{key:t.id,attrs:{cartItem:t}})})),1),s("tfoot",[s("tr",{staticClass:"d-table-row d-sm-none"},[s("td",{staticClass:"text-center"},[s("strong",[t._v("Total "+t._s(t.cartValue)+" €")])])]),s("tr",[s("td",[s("button",{staticClass:"btn btn-warning",on:{click:t.saveShoppingCartLocal}},[s("i",{staticClass:"fa fa-angle-left"}),t._v(" Save and Continue Shopping ")])]),s("td",{staticClass:"d-none d-sm-table-cell",attrs:{colspan:"2"}}),s("td",{staticClass:"d-none d-sm-table-cell text-center"},[s("strong",[t._v("Total "+t._s(t.cartValue)+" €")])]),s("td",{staticClass:"px-0"},[s("button",{staticClass:"btn btn-success",on:{click:t.checkout}},[t._m(1)])])])])],1)])},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"50%"}},[t._v("Product")]),s("th",{staticStyle:{width:"10%"}},[t._v("Price")]),s("th",{staticStyle:{width:"8%"}},[t._v("Quantity")]),s("th",{staticClass:"text-center",staticStyle:{width:"22%"}},[t._v("Subtotal")]),s("th",{staticStyle:{width:"10%"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"text-nowrap"},[t._v(" Checkout "),s("i",{staticClass:"fa fa-angle-right d-inline"})])}],H=(s("99af"),s("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{"data-th":"Product"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-2 d-none d-sm-block"},[s("img",{staticClass:"img-fluid",attrs:{src:t.cartItem.thumbnail_url,alt:"..."}})]),s("div",{staticClass:"col-sm-10"},[s("h4",{staticClass:"nomargin"},[t._v(t._s(t.cartItem.title))]),s("p",[t._v(t._s(t.cartItem.description))])])])]),s("td",{attrs:{"data-th":"Price"}},[t._v(t._s(t.cartItem.price))]),s("td",{attrs:{"data-th":"Quantity"}},[s("input",{staticClass:"form-control text-center",attrs:{type:"number",min:"0"},domProps:{value:t.cartItem.quantity},on:{input:t.updateQuantity}})]),s("td",{staticClass:"text-center",attrs:{"data-th":"Subtotal"}},[t._v("$"+t._s(t.subtotal))]),s("td",{staticClass:"actions",attrs:{"data-th":""}},[s("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.removeItem}},[s("i",{staticClass:"fa fa-trash-o"})])])])}),W=[],F={props:["cartItem"],computed:{subtotal:function(){return this.cartItem.quantity*this.cartItem.price}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateCart","removeItemInCart"])),{},{removeItem:function(){var t=this;this.removeItemInCart({item:t.cartItem})},updateQuantity:function(t){var e=this;this.updateCart({item:e.cartItem,quantity:parseInt(t.target.value),isAdd:!1})}})},Q=F,J=Object(p["a"])(Q,H,W,!1,null,null,null),Y=J.exports,Z={computed:Object(o["a"])({},Object(c["c"])(["cartItemList","isLoggedIn","products","currentUser","cartValue"])),components:{appCartItem:Y},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["saveShoppingCart","addMessage","saveToTransaction","clearCart"])),{},{checkValidCart:function(t,e){var s=!0,a="";return t.map((function(t){for(var i=0;i<e.length;i++)if(e[i].id==t.id){if(e[i].quantity<t.quantity)return a="Only ".concat(e[i].quantity," ").concat(t.title," available in stock"),void(s=!1);break}})),{isValid:s,message:a}},saveShoppingCartLocal:function(){var t=this;if(this.isLoggedIn){var e=this.checkValidCart(this.cartItemList,this.products),s=e.isValid,a=e.message;s?this.saveShoppingCart({cartItemList:this.cartItemList,uid:this.currentUser.uid}).then((function(){t.addMessage({messageClass:"success",message:"Your shopping cart is saved successfully"}),t.$router.push("/")})):this.addMessage({messageClass:"danger",message:a})}else this.addMessage({messageClass:"warning",message:"Please login to save your cart"})},checkout:function(){var t=this;if(this.isLoggedIn){if(!this.cartItemList||0==this.cartItemList.length)return void this.addMessage({messageClass:"warning",message:"Your cart is empty"});var e=this.checkValidCart(this.cardItemList,this.products),s=e.isValid;e.messsage;s?this.saveToTransaction({cartItemList:this.cartItemList,uid:this.currentUser.uid}).then((function(){t.addMessage({messageClass:"success",message:"Your order has been successfully processed"}),t.saveShoppingCart({cartItemList:[],uid:t.currentUser.uid}),t.clearCart(),t.$router.push("/")})):this.addMessage({messageClass:"danger",message:message})}else this.addMessage({messageClass:"warning",message:"Please login to checkout"})}})},K=Z,X=(s("b1e0"),Object(p["a"])(K,B,z,!1,null,"5b4e4db2",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"col-md-12"},[t.isProductLoading?s("div",{staticClass:"text-center"},[s("grid-loader",{staticClass:"d-inline-block",attrs:{loading:t.isProductLoading,color:t.loaderColor,size:t.loaderSize}})],1):s("div",{staticClass:"card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 col-md-4 offset-md-4"},[s("div",{staticClass:"intrisic"},[s("img",{staticClass:"img-fluid intrisic-item",attrs:{src:t.item.thumbnail_url,alt:""}})])])]),s("div",{staticClass:"caption-full"},[s("h4",{staticClass:"pull-right"},[t._v(t._s(t.item.price)+" �")]),s("h4",[t._v(t._s(t.item.title))]),s("p",[t._v(t._s(t.item.description))])]),s("div",{staticClass:"ratings"},[s("span",[t._v("Stock: "+t._s(t.item.quantity))]),s("p",{staticClass:"pull-right"},[s("button",{staticClass:"btn btn-success",attrs:{disabled:0===t.item.quantity},on:{click:t.addItem}},[t._v(" Add to cart ")])]),s("div",{staticClass:"clearfix"})])])])])},st=[],at=(s("4de4"),{components:{GridLoader:R["a"]},data:function(){return{loaderColor:"#5cb75c",loaderSize:"50px"}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["isProductLoading","product"])),{},{item:function(){var t=this.$route.params.id;if(this.products.length>=t){this.products.filter((function(e){return e.id==t}));if(filterArr.length>0)return filterArr[0]}return{}}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateCart"])),{},{addItem:function(){var t={item:Object.assign({},this.item),quantity:1,isAdd:!0};this.updateCart(t)}})}),it=at,rt=(s("6ce3"),Object(p["a"])(it,et,st,!1,null,"24e4de78",null)),nt=rt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 offset-md-3 col-sm-12 offset-sm-1"},[s("form",{staticStyle:{display:"block"},attrs:{id:"login-form",role:"form"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("h3",{staticClass:"text-center"},[t._v("Login")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:t.isLoading}},[t.isLoading?s("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v(" Log in ")])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"text-center"},[s("router-link",{attrs:{to:"/register"}},[s("a",[t._v("Register")])])],1)])])])])])])},ct=[],lt={data:function(){return{email:"",password:"",isLoading:!1}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["addMessage","clearMessage","loginWithEmail"])),{},{onSubmit:function(){var t=this;this.isLoading=!0;var e={email:this.email,password:this.password};this.loginWithEmail(e).then((function(){t.clearMessage(),t.$router.push({name:"mainpage"})})).catch((function(e){var s={message:e.message,messageClass:"danger",autoClose:!0};t.addMessage(s)})).then((function(){t.isLoading=!1}))}})},ut=lt,dt=Object(p["a"])(ut,ot,ct,!1,null,null,null),mt=dt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 offset-md-3 col-sm-10 offset-sm-1"},[s("form",{attrs:{id:"register-form",role:"form"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("h3",{staticClass:"text-center"},[t._v("Register")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:t.isLoading}},[t.isLoading?s("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v(" Register ")])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"text-center"},[s("router-link",{attrs:{to:"/login"}},[s("a",[t._v("Login")])])],1)])])])])])])},gt=[],ft={data:function(){return{email:"",password:"",isLoading:!1}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["clearMessage","addMessage","registerByEmail"])),{},{onSubmit:function(){var t=this;this.isLoading=!0;var e={email:this.email,password:this.password};this.registerByEmail(e).then((function(){t.clearMessage(),t.$router.push({name:"mainpage"})})).catch((function(e){console.log("register error",e);var s={message:e.message,messageClass:"danger",autoClose:!0};t.addMessage(s)})).then((function(){t.isLoading=!1}))}})},vt=ft,ht=Object(p["a"])(vt,pt,gt,!1,null,null,null),bt=ht.exports;i["a"].use(j["a"]);var Ct=[{path:"/",name:"mainpage",component:V},{path:"/product/:id",name:"product",component:nt},{path:"/cart",component:tt,name:"shoppingcart"},{path:"/login",component:mt,name:"login",onlyGuest:!0},{path:"/register",component:bt,name:"register",onlyGuest:!0},{path:"*",redirect:"/"}],_t=new j["a"]({mode:"history",routes:Ct}),yt=_t,Lt={messageGroup:{messageClass:"",message:"",timeoutEvent:null}},wt={ADD_MESSAGE:function(t,e){var s=e.message,a=e.messageClass;t.messageGroup={messageClass:a,message:s},t.timeoutEvent&&clearTimeout(t.timeoutEvent),t.timeoutEvent=setTimeout((function(){t.messageGroup={messageClass:"",message:""}}),5e3)},CLEAR_MESSAGE:function(t){t.messageGroup={messageClass:"",message:""}}},Ot={addMessage:function(t,e){var s=t.commit;s("ADD_MESSAGE",e)},clearMessage:function(t){var e=t.commit;e("CLEAR_MESSAGE")}},It={messages:function(t){return t.messageGroup}},St={state:Lt,mutations:wt,actions:Ot,getters:It},jt={isLoading:!0,productList:[]},Et={UPDATE_PRODUCT_LIST:function(t,e){t.productList=e,t.isLoading=!1}},kt={},At={products:function(t){return t.productList},isProductLoading:function(t){return t.isLoading}},Tt={state:jt,mutations:Et,actions:kt,getters:At},xt={apiKey:"AIzaSyDMeO-cd1Z3wQzAtgeHNcULo39HGXBBQJ0",authDomain:"firevue-spa-shop.firebaseapp.com",databaseURL:"https://firevue-spa-shop.firebaseio.com",projectId:"firevue-spa-shop",storageBucket:"firevue-spa-shop.appspot.com",messagingSenderId:"4213237817",appId:"1:4213237817:web:59fb77c4e54edc401505e8",measurementId:"G-JP0WWE8TF2"};function Mt(t){k.a.auth().onAuthStateChanged((function(e){e?(console.log("User log in successfully",e),t(!0,e)):(console.log("User log in failed",e),t(!1))}),(function(t){console.log(t)}))}k.a.initializeApp(xt),k.a.analytics();var Pt=k.a.database().ref(),Ut=k.a.auth,qt={AUTH_STATUS_CHANGE:function(t){t.isLoggedIn=null!=Ut().currentUser,t.user=Ut().currentUser}},Dt={},Rt={isLoggedIn:null!=Ut().currentUser,user:Ut().currentUser},$t={isLoggedIn:function(t){return t.isLoggedIn},currentUser:function(t){return t&&t.user?{email:t.user.email,emailVerified:t.user.emailVerified,uid:t.user.uid}:{}}},Gt={state:Rt,mutations:qt,actions:Dt,getters:$t},Nt=(s("7db0"),s("c975"),s("a434"),{cartItemList:[]}),Vt={UPDATE_CART:function(t,e){var s=e.item,a=e.quantity,i=e.isAdd,r=t.cartItemList.find((function(t){return t.id==s.id}));r?i?r.quantity+=a:r.quantity=a:t.cartItemList.push(Object(o["a"])(Object(o["a"])({},s),{},{quantity:a}))},SET_CART:function(t,e){e&&(t.cartItemList=e)},REMOVE_CART_ITEM:function(t,e){var s=e.item,a=t.cartItemList.find((function(t){return t.id==s.id}));t.cartItemList.splice(t.cartItemList.indexOf(a),1)}},Bt={clearCart:function(t){var e=t.commit;e("SET_CART",[])}},zt={cartItemList:function(t){return t.cartItemList},cartValue:function(t){var e=0;return t.cartItemList.map((function(t){e+=t.price*t.quantity})),e}},Ht={state:Nt,mutations:Vt,actions:Bt,getters:zt},Wt=function(t,e){var s=t.commit,a=e.item,i=e.quantity,r=e.isAdd;if(s("UPDATE_CART",{item:a,quantity:i,isAdd:r}),r){var n={message:"Add ".concat(a.title," to cart successfully"),messageClass:"success",autoClose:!0};s("ADD_MESSAGE",n)}},Ft=function(t,e){var s=t.commit,a=e.item;s("REMOVE_CART_ITEM",{item:a})},Qt=function(t,e){var s=e.email,a=e.password;return Ut().createUserWithEmailAndPassword(s,a)},Jt=function(t){var e=t.commit;return e("SET_CART",[]),Ut().signOut()};function Yt(t,e){var s=e.email,a=e.password;return Ut().signInWithEmailAndPassword(s,a)}function Zt(t){var e=t.commit;return Pt.child("products").on("value",(function(t){e("UPDATE_PRODUCT_LIST",t.val())}))}function Kt(t,e){var s=t.commit,a=e.uid,i=e.currentCart;if(a)return Pt.child("cart/"+a).once("value").then((function(t){console.log(t.val()),!t.val()||i&&0!=i.length||s("SET_CART",t.val())}));console.log("User has not logged in")}function Xt(t,e){var s=e.uid,a=e.cartItemList;return console.log("ACTIONS saveShoppingCart"),console.log("CART DATA",a),Pt.child("cart/"+s).set(a)}function te(t,e){var s=e.uid,a=e.cartItemList,i=Pt.child("transactions").push().key,r={};return r["/transactions/"+s+"/"+i]=a,Pt.update(r)}i["a"].use(c["a"]);var ee=new c["a"].Store({actions:a,modules:{auth:Gt,cart:St,products:Tt,messages:Ht}});s("a899");function se(t,e){ee&&(ee.commit("AUTH_STATUS_CHANGE"),e&&ee.dispatch("getShoppingCart",{uid:e.uid,currentCart:ee.getters.cartItemList}))}i["a"].config.productionTip=!1,Mt(se),new i["a"]({el:"#app",router:yt,store:ee,render:function(t){return t(I)}})},"6ce3":function(t,e,s){"use strict";var a=s("f81c"),i=s.n(a);i.a},8198:function(t,e,s){},"85ec":function(t,e,s){},"8fff":function(t,e,s){},"9f9a":function(t,e,s){},a899:function(t,e,s){},b00a:function(t,e,s){"use strict";var a=s("1057"),i=s.n(a);i.a},b1e0:function(t,e,s){"use strict";var a=s("34a6"),i=s.n(a);i.a},d608:function(t,e,s){"use strict";var a=s("9f9a"),i=s.n(a);i.a},f81c:function(t,e,s){}});
//# sourceMappingURL=app.187d87ef.js.map